extends ../base
block content
    div#videoContainer(data-id=video._id)
        video(src=isFly ? video.fileUrl : "/" + video.fileUrl controls id="video" width="100%")
        div#videoControls
            button#play Play 
            button#mute Mute 
            input(type="range" step="0.1" value="0.5" min="0" max="1" id="volume")
            div 
                span#currenTime 00:00
                span / 
                span#totalTime 00:00
            div 
                input(type="range" step="1" value="0" min="0")#timeline
            div 
                button#fullScreen Enter full Screen
            div
                p=video.description
                small=video.createdAt
            div 
                small Uploaded by 
                    a(href=`/user/${video.owner._id}`) #{video.owner.name} 
                if String(video.owner._id) == String(loggedInUser._id)
                    br
                    a(href=video.id + "/edit") edit video &rarr;
                    br
                    a(href=video.id + "/delete") delete video &rarr;
        if loggedIn
            .video__add_comments 
                form.video__comment-form#commentForm
                    textarea(cols="30", rows="10" placeholder="Write a comment...")
                    button(type="submit") Add comment    
        .video__comments 
            ul
                each comment in video.comments.reverse()
                    li(data-id=comment._id).video__comment
                        i.fas.fa-comment
                        span #{comment.text}
                        if String(comment.owner._id) == String(loggedInUser._id)
                            span.deleteBtn ‚ùå
block scripts 
    script(src="/static/js/videoPlayer.js") 
    if loggedIn
        script(src="/static/js/commentSection.js") 